(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{49:function(e,t){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(25),a=n.n(r),s=n(4),o=n(20),u=n(40),l=n(41),i=n(15),j=n(2),b="GET_SEARCH_ACCOUNTS_SUCCESS",p="GET_SEARCH_ACCOUNTS_FAIL",d="GET_SEARCH_ACCOUNTS_NEXT_SUCCESS",h="GET_SEARCH_ACCOUNTS_NEXT_FAIL",O="GET_ACCOUNT_SUCCESS",x="GET_ACCOUNT_FAIL",f="GET_ACCOUNT_BLOGS_SUCCESS",v="GET_ACCOUNT_BLOGS_FAIL",m="GET_ACCOUNT_BLOGS_NEXT_SUCCESS",g="GET_ACCOUNT_BLOGS_NEXT_FAIL",_="GET_ACCOUNT_FOLLOWERS_SUCCESS",y="GET_ACCOUNT_FOLLOWERS_FAIL",C="GET_ACCOUNT_FOLLOWERS_NEXT_SUCCESS",S="GET_ACCOUNT_FOLLOWERS_NEXT_FAIL",w={account:null,account_blogs:{count:null,next:null,prev:null,results:[]},account_followers:{count:null,next:null,prev:null,results:[]},search_accounts:{count:null,next:null,prev:null,results:[]},change:0,successes:[],errors:[]},E="LOGIN_SUCCESS",T="LOGIN_FAIL",A="SIGNUP_SUCCESS",L="SIGNUP_FAIL",k="ACTIVATE_SUCCESS",F="ACTIVATE_FAIL",G="LOGOUT",N="USER_LOAD_SUCCESS",I="USER_LOAD_FAIL",U={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:!1,user:null,errors:[],successes:[]},R=function(e){var t=[];for(var n in e)t.push(e[n]);return t},B=function(){localStorage.removeItem("access"),localStorage.removeItem("refresh"),localStorage.removeItem("user")},M="GET_SEARCH_BLOGS_SUCCESS",D="GET_SEARCH_BLOGS_FAIL",P="GET_SEARCH_BLOGS_NEXT_SUCCESS",q="GET_SEARCH_BLOGS_NEXT_FAIL",H="GET_BLOG_SUCCESS",X="GET_BLOG_FAIL",J="GET_BLOG_COMMENTS_SUCCESS",z="GET_BLOG_COMMENTS_FAIL",W="GET_BLOG_COMMENTS_NEXT_SUCCESS",V="GET_BLOG_COMMENTS_NEXT_FAIL",K="POST_COMMENT_SUCCESS",Q="POST_COMMENT_FAIL",Y="DELETE_COMMENT_SUCCESS",Z="DELETE_COMMENT_FAIL",$="CREATE_BLOG_SUCCESS",ee="CREATE_BLOG_FAIL",te={blog:null,blog_comments:{count:null,next:null,prev:null,results:[]},search_blogs:{count:null,next:null,prev:null,results:[]},change:0,successes:[],errors:[]},ne=(n(49),{}),ce=Object(o.combineReducers)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case b:return Object(j.a)(Object(j.a)({},e),{},{search_accounts:{count:c.count,next:c.next,prev:c.prev,results:c.results},successes:["Loaded search results sucsessfully"],errors:[]});case p:case h:return Object(j.a)(Object(j.a)({},e),{},{search_accounts:{count:null,next:null,prev:null,results:[],errors:["Could not load in accounts"],successes:[]}});case d:return Object(j.a)(Object(j.a)({},e),{},{search_accounts:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.search_accounts.results),Object(i.a)(c.results))},successes:["Loaded search results sucsessfully for next page"],errors:[]});case O:return Object(j.a)(Object(j.a)({},e),{},{account:c,successes:[],errors:[]});case x:return Object(j.a)(Object(j.a)({},e),{},{account:null,successes:[],errors:["Failed to retrive the blog with the given ID."]});case f:return Object(j.a)(Object(j.a)({},e),{},{account_blogs:c,successes:["Retrieved blogs"],errors:[]});case v:case g:return Object(j.a)(Object(j.a)({},e),{},{account_blogs:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load blogs"]});case m:return Object(j.a)(Object(j.a)({},e),{},{account_blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.account_blogs.results),Object(i.a)(c.results))},successes:["Retrieved more blogs"],errors:[]});case _:return Object(j.a)(Object(j.a)({},e),{},{account_followers:c,successes:["Retrieved followers"],errors:[]});case y:case S:return Object(j.a)(Object(j.a)({},e),{},{account_followers:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load followers"]});case C:return Object(j.a)(Object(j.a)({},e),{},{account_followers:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.account_followers.results),Object(i.a)(c.results))},successes:["Retrieved more followers"],errors:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case E:return localStorage.setItem("access",c.access),localStorage.setItem("refresh",c.refresh),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,access:c.access,refresh:c.refresh,errors:[],successes:["Authenticated succesfully"]});case T:return B(),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,access:"",refresh:"",errors:R(c),successes:[]});case A:return Object(j.a)(Object(j.a)({},e),{},{successes:["An activation email has been sent."]});case L:return Object(j.a)(Object(j.a)({},e),{},{successes:[],errors:R(c)});case k:return Object(j.a)(Object(j.a)({},e),{},{successes:["Account activated succesfully"]});case F:return Object(j.a)(Object(j.a)({},e),{},{errors:R(c),successes:[]});case G:return B(),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,access:"",refresh:"",errors:[],successes:["Logged out succesfully"]});case N:return localStorage.setItem("user",c),Object(j.a)(Object(j.a)({},e),{},{user:c});case I:return Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!1,user:null,successes:[]});case"ERROR":return Object(j.a)(Object(j.a)({},e),{},{errors:c});default:return e}},blog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case M:return Object(j.a)(Object(j.a)({},e),{},{search_blogs:{count:c.count,next:c.next,prev:c.prev,results:c.results},successes:["Loaded search results sucsessfully"],errors:[]});case D:case q:return Object(j.a)(Object(j.a)({},e),{},{search_blogs:{count:null,next:null,prev:null,results:[],errors:["Could not load in blogs"],successes:[]}});case P:return Object(j.a)(Object(j.a)({},e),{},{search_blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.search_blogs.results),Object(i.a)(c.results))},successes:["Loaded search results sucsessfully for next page"],errors:[]});case H:return Object(j.a)(Object(j.a)({},e),{},{blog:c,successes:[],errors:[]});case X:return Object(j.a)(Object(j.a)({},e),{},{blog:null,successes:[],errors:["Failed to retrive the blog with the given ID."]});case J:return Object(j.a)(Object(j.a)({},e),{},{blog_comments:c,successes:["Retrieved comments"],errors:[]});case z:case V:return Object(j.a)(Object(j.a)({},e),{},{blog_comments:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load comments"]});case W:return Object(j.a)(Object(j.a)({},e),{},{blog_comments:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.blog_comments.results),Object(i.a)(c.results))},successes:["Retrieved more comments"],errors:[]});case K:case Y:return Object(j.a)(Object(j.a)({},e),{},{change:e.change+1});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;t.type,t.payload;return e}}),re=[l.a],ae=Object(o.createStore)(ce,{},Object(u.composeWithDevTools)(o.applyMiddleware.apply(void 0,re))),se=n(5),oe=n(8),ue=n(3),le=n.n(ue),ie=n(7),je=n(9).default,be=function(){return function(){var e=Object(ie.a)(le.a.mark((function e(t){var n,c;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.prev=2,e.next=5,je.get("".concat("http://localhost:8000/","auth/users/me/"),n);case 5:c=e.sent,t({type:N,payload:c.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:I,payload:e.t0.response.data});case 12:e.next=15;break;case 14:t({type:I});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},pe=n(0),de=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(){var e=Object(ie.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:G,payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,n=e.isAuthenticated;return Object(pe.jsx)("div",{children:Object(pe.jsxs)("ul",{children:[n?Object(pe.jsx)(c.Fragment,{}):Object(pe.jsxs)(c.Fragment,{children:[Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/login",children:Object(pe.jsx)("span",{children:"Login"})})}),Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/signup",children:Object(pe.jsx)("span",{children:"Sign up"})})})]}),Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/",children:Object(pe.jsx)("span",{children:"Home"})})}),n?Object(pe.jsxs)(c.Fragment,{children:[Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/feed",children:Object(pe.jsx)("span",{children:"Feed"})})}),Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/my_account",children:Object(pe.jsx)("span",{children:"My account"})})})]}):Object(pe.jsx)(c.Fragment,{}),Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/discover",children:Object(pe.jsx)("span",{children:"Discover"})})}),Object(pe.jsxs)("li",{children:["Search",Object(pe.jsx)("ul",{children:Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/account/search",children:Object(pe.jsx)("span",{children:"Account search"})})})}),Object(pe.jsx)("ul",{children:Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/blog/search",children:Object(pe.jsx)("span",{children:"Blog search"})})})})]}),n?Object(pe.jsxs)(c.Fragment,{children:[Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{to:"/blog/create",children:Object(pe.jsx)("span",{children:"Create blog"})})}),Object(pe.jsx)("li",{children:Object(pe.jsx)(se.b,{onClick:t,children:Object(pe.jsx)("span",{children:"Logout"})})})]}):Object(pe.jsx)(c.Fragment,{})]})})})),he=function(e){return Object(pe.jsxs)("div",{children:[Object(pe.jsx)(de,{}),e.children]})},Oe=n(18),xe=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Oe.a)(e),Object(pe.jsx)("div",{children:Object(pe.jsx)("h1",{children:"Home"})})})),fe=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Oe.a)(e),Object(pe.jsx)("div",{children:Object(pe.jsx)("h1",{children:"My account"})})})),ve=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Oe.a)(e),Object(pe.jsx)("div",{children:Object(pe.jsx)("h1",{children:"Feed"})})})),me=Object(s.b)((function(e){return{}}),{})((function(e){return Object(Oe.a)(e),Object(pe.jsx)("div",{children:Object(pe.jsx)("h1",{children:"Discover"})})})),ge=n(17),_e=n(10),ye=Object(s.b)((function(e){return{successes:e.auth.successes}}),{})((function(e){var t=e.successes;return Object(pe.jsx)("ul",{className:"p-0",children:t.map((function(e){return Object(pe.jsx)("li",{className:"list-group-item list-group-item-success mb-1 my-0",children:e})}))})})),Ce=Object(s.b)((function(e){return{errors:e.auth.errors}}),{})((function(e){var t=e.errors;return Object(pe.jsx)("ul",{className:"p-0",children:t.map((function(e){return Object(pe.jsx)("li",{className:"list-group-item list-group-item-danger mb-1 my-0",children:e})}))})})),Se=function(e){e.errors;return Object(pe.jsxs)("div",{children:[Object(pe.jsx)(ye,{}),Object(pe.jsx)(Ce,{})]})},we=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var n=Object(ie.a)(le.a.mark((function n(c){var r,a,s;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{"Content-Type":"application/json"}},a=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,je.post("".concat("http://localhost:8000/","auth/jwt/create/"),a,r);case 5:s=n.sent,c({type:E,payload:s.data}),c(be()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),c({type:T,payload:n.t0.response.data});case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.login,n=e.isAuthenticated,r=Object(c.useState)({email:"",password:""}),a=Object(_e.a)(r,2),s=a[0],o=a[1];if(n)return Object(pe.jsx)(oe.a,{to:"/"});var u=s.email,l=s.password,i=function(e){return o(Object(j.a)(Object(j.a)({},s),{},Object(ge.a)({},e.target.name,e.target.value)))};return Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(u,l)}(e)},children:[Object(pe.jsx)("h1",{children:"Login"}),Object(pe.jsx)("p",{children:"Login to you're account"}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Email address"}),Object(pe.jsx)("input",{type:"email",placeholder:"example@gmail.com",id:"email",name:"email",value:u,onChange:function(e){return i(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Password"}),Object(pe.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password",value:l,onChange:function(e){return i(e)},required:!0})]}),Object(pe.jsx)("button",{type:"submit",children:"Login"}),Object(pe.jsxs)("p",{children:["Don't have an account? ",Object(pe.jsx)(se.b,{to:"/signup",children:"Sign up"})]})]}),Object(pe.jsx)(Se,{})]})})),Ee=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:function(e,t,n,c,r){return function(){var a=Object(ie.a)(le.a.mark((function a(s){var o,u,l;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c===r){a.next=4;break}s({type:"ERROR",payload:["Password's to not match"]}),a.next=16;break;case 4:return o={headers:{"Content-Type":"application/json"}},u=JSON.stringify({email:e,name:t,last_name:n,password:c,re_password:r}),a.prev=6,a.next=9,je.post("".concat("http://localhost:8000/","auth/users/"),u,o);case 9:l=a.sent,s({type:A,payload:l.data}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(6),s({type:L,payload:a.t0.response.data});case 16:case"end":return a.stop()}}),a,null,[[6,13]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.signup,n=e.isAuthenticated,r=Object(c.useState)({email:"",name:"",last_name:"",password:"",re_password:""}),a=Object(_e.a)(r,2),s=a[0],o=a[1];if(n)return Object(pe.jsx)(oe.a,{to:"/"});var u=s.email,l=s.name,i=s.last_name,b=s.password,p=s.re_password,d=function(e){return o(Object(j.a)(Object(j.a)({},s),{},Object(ge.a)({},e.target.name,e.target.value)))};return Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(u,l,i,b,p)}(e)},children:[Object(pe.jsx)("h1",{children:"Login"}),Object(pe.jsx)("p",{children:"Login to you're account"}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Email address"}),Object(pe.jsx)("input",{type:"email",placeholder:"example@gmail.com",id:"email",name:"email",value:u,onChange:function(e){return d(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Name"}),Object(pe.jsx)("input",{type:"text",placeholder:"John",id:"name",name:"name",value:l,onChange:function(e){return d(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Last name"}),Object(pe.jsx)("input",{type:"text",placeholder:"Doe",id:"last_name",name:"last_name",value:i,onChange:function(e){return d(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Password"}),Object(pe.jsx)("input",{type:"password",placeholder:"Password",id:"password",name:"password",value:b,onChange:function(e){return d(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Repeat password"}),Object(pe.jsx)("input",{type:"password",placeholder:"Password",id:"re_password",name:"re_password",value:p,onChange:function(e){return d(e)},required:!0})]}),Object(pe.jsx)("button",{type:"submit",children:"Sign up"}),Object(pe.jsxs)("p",{children:["Have an account? ",Object(pe.jsx)(se.b,{to:"/login",children:"Log in"})]})]}),Object(pe.jsx)(Se,{})]})})),Te=Object(s.b)(null,{activate:function(e,t){return function(){var n=Object(ie.a)(le.a.mark((function n(c){var r,a;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{"Content-Type":"application/json"}},a=JSON.stringify({uid:e,token:t}),n.prev=2,n.next=5,je.post("".concat("http://localhost:8000/","auth/users/activation/"),a,r);case 5:c({type:k,payload:null}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(2),c({type:F,payload:n.t0.response.data});case 11:case"end":return n.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.activate,n=e.match;return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{children:"Activate you're account"}),Object(pe.jsx)("button",{onClick:function(e){var c=n.params.uid,r=n.params.token;t(c,r)},children:"Activate"}),Object(pe.jsx)(Se,{}),Object(pe.jsx)(se.b,{to:"/",children:" Go back to home page "})]})})),Ae=n(9),Le=n.n(Ae),ke=Object(s.b)((function(e){return{accounts:e.account.search_accounts}}),{search_accounts:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/account/?search=").concat(e),c);case 4:r=t.sent,n({type:b,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:p,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},search_accounts_next:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:d,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:h,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.accounts,n=e.search_accounts_next,r=e.search_accounts,a=Object(c.useState)(""),s=Object(_e.a)(a,2),o=s[0],u=s[1];return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{children:"Account search"}),Object(pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(o)},children:[Object(pe.jsx)("input",{type:"text",onChange:function(e){return function(e){return u(e.target.value)}(e)}}),Object(pe.jsxs)("button",{type:"submit",children:["Search",Object(pe.jsx)("i",{className:"bx bx-search"})]})]}),Object(pe.jsx)("ul",{children:t.results.map((function(e){return Object(pe.jsx)("li",{children:Object(pe.jsxs)(se.b,{to:"".concat(e.id),children:[Object(pe.jsxs)("h3",{children:[e.name," ",e.last_name]}),Object(pe.jsxs)("p",{children:["Follower Count ",e.follower_count," "]})]})})}))}),t.next?Object(pe.jsx)("button",{onClick:function(e){return n(t.next)},children:"Load more"}):Object(pe.jsx)("div",{})]})})),Fe=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,account:e.account.account,blogs:e.account.account_blogs,followers:e.account.account_followers,user:e.auth.user}}),{get_account:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/account/").concat(e,"/"),c);case 4:r=t.sent,n({type:O,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:x,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_blogs:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/blog/?search=").concat(e),c);case 4:r=t.sent,n({type:f,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:v,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_blogs_next:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:m,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:g,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_followers:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/account/").concat(e,"/followers/"),c);case 4:r=t.sent,n({type:_,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:y,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_followers_next:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:C,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:S,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,n=e.isAuthenticated,r=e.account,a=e.blogs,s=e.user,o=e.followers,u=e.get_account,l=e.get_account_blogs,i=e.get_account_blogs_next,j=e.get_account_followers,b=e.get_account_followers_next,p=Object(c.useState)(!1),d=Object(_e.a)(p,2),h=d[0],O=d[1];Object(c.useEffect)((function(){u(t.params.id)}),[t.params.id]),Object(c.useEffect)((function(){r&&(x(),l(r.email),j(r.id))}),[r]);var x=function(){n&&Le.a.get("".concat("http://localhost:8000/","api/account/").concat(r.id,"/followers/?search=").concat(s.email)).then((function(e){0!==e.data.count?O(!0):O(!1)})).catch((function(e){O(!1)}))},f=function(){!function(e){var t={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},n={follow_id:"".concat(e)};try{Le.a.post("".concat("http://localhost:8000/","api/account/follow/"),n,t)}catch(c){console.log("Follow failed")}}(r.id),O(!h)};return Object(pe.jsx)("div",{children:r?Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("h1",{children:[" ",r.name," ",r.last_name," "]}),Object(pe.jsx)(c.Fragment,{children:n?Object(pe.jsx)("div",{children:Object(pe.jsx)("button",{onClick:function(e){return f()},children:h?"Following":"Follow"})}):Object(pe.jsx)(c.Fragment,{})}),Object(pe.jsxs)("ul",{children:[o.results.map((function(e,t){return Object(pe.jsx)("li",{children:Object(pe.jsxs)(se.b,{to:"/account/".concat(e.follower_id),children:[e.follower_name," ",e.follower_last_name]})})})),o.next?Object(pe.jsx)("li",{children:Object(pe.jsx)("button",{onClick:function(e){return b(o.next)},children:"Load Mode"})}):Object(pe.jsx)("div",{})]}),Object(pe.jsx)("h3",{children:"Blogs"}),(r.email,Object(pe.jsxs)("ul",{children:[a.results.map((function(e,t){return Object(pe.jsxs)("li",{children:[Object(pe.jsx)(se.b,{to:"/blog/".concat(e.id),children:e.title}),Object(pe.jsx)("p",{children:e.body})]})})),a.next?Object(pe.jsx)("li",{children:Object(pe.jsx)("button",{onClick:function(e){return i(a.next)},children:"Load more"})}):Object(pe.jsx)("div",{})]}))]}):Object(pe.jsx)("div",{children:Object(pe.jsx)("p",{children:"User with the given Id does not exist"})})})})),Ge=Object(s.b)((function(e){return{blogs:e.blog.search_blogs}}),{search_blogs:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/blog/?search=").concat(e),c);case 4:r=t.sent,n({type:M,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:D,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},search_blogs_next:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:P,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:q,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.search_blogs,n=e.search_blogs_next,r=e.blogs,a=Object(c.useState)(""),s=Object(_e.a)(a,2),o=s[0],u=s[1];return Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{children:"Blog search"}),Object(pe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(pe.jsx)("input",{type:"text",onChange:function(e){return function(e){return u(e.target.value)}(e)}}),Object(pe.jsxs)("button",{type:"submit",children:["Search",Object(pe.jsx)("i",{className:"bx bx-search"})]})]}),Object(pe.jsx)("ul",{children:r.results.map((function(e){return Object(pe.jsx)("li",{children:Object(pe.jsxs)(se.b,{to:"".concat(e.id),children:[Object(pe.jsx)("h3",{children:e.title}),Object(pe.jsx)("p",{children:e.subtitle})]})})}))}),r.next?Object(pe.jsx)("button",{onClick:function(e){return n(r.next)},children:"Load more"}):Object(pe.jsx)("div",{})]})})),Ne=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,blog:e.blog.blog,comments:e.blog.blog_comments,change:e.blog.change,user:e.auth.user}}),{get_blog:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat("http://localhost:8000/","api/blog/").concat(e,"/"),c);case 4:r=t.sent,n({type:H,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:X,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_blog_comments:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:J,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:z,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_blog_comments_next:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.get("".concat(e),c);case 4:r=t.sent,n({type:W,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:V,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},post_comment:function(e,t){return function(){var n=Object(ie.a)(le.a.mark((function n(c){var r,a,s;return le.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},a={body:t},n.prev=2,n.next=5,Le.a.post("".concat("http://localhost:8000/","api/blog/").concat(e,"/comments/"),a,r);case 5:s=n.sent,c({type:K,payload:s.data}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),c({type:Q,payload:n.t0.response});case 12:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},delete_comment:function(e){return function(){var t=Object(ie.a)(le.a.mark((function t(n){var c,r;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},t.prev=1,t.next=4,Le.a.delete("".concat("http://localhost:8000/","api/blog/comment/").concat(e,"/"),c);case 4:r=t.sent,n({type:Y,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:Z,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,n=e.get_blog,r=e.get_blog_comments,a=e.get_blog_comments_next,s=e.post_comment,o=e.delete_comment,u=e.blog,l=e.comments,i=e.isAuthenticated,j=e.user,b=e.change,p=t.params.id,d=Object(c.useState)(""),h=Object(_e.a)(d,2),O=h[0],x=h[1];Object(c.useEffect)((function(){n(p)}),[]),Object(c.useEffect)((function(){null!=u&&r(u.comments_url)}),[u,b]);return Object(pe.jsx)("div",{children:u?Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("div",{children:[Object(pe.jsxs)("span",{children:["Publish date: ",u.date_created]}),Object(pe.jsx)("h2",{children:u.title}),Object(pe.jsx)("h5",{children:u.subtitle}),Object(pe.jsx)("p",{children:u.body})]}),i?Object(pe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),s(u.id,O)}(e)},children:[Object(pe.jsx)("h3",{children:"Post comment"}),Object(pe.jsx)("div",{children:Object(pe.jsx)("textarea",{placeholder:"Comment...",id:"comment",name:"comment",cols:"50",rows:"10",value:O,onChange:function(e){return function(e){return x(e.target.value)}(e)},required:!0})}),Object(pe.jsx)("button",{type:"submit",children:"Post"})]}):Object(pe.jsx)(se.b,{to:"/login",children:"Login to post a comment"}),Object(pe.jsxs)("ul",{children:[l.results.map((function(e,t){return Object(pe.jsxs)("li",{children:[Object(pe.jsxs)(se.b,{to:"/account/".concat(e.author_id),children:[e.author_name," ",e.author_last_name]}),Object(pe.jsx)("p",{children:e.body}),(n=e.author_id,r=e.id,i&&j.id===n?Object(pe.jsx)("button",{onClick:function(){o("".concat(r))},children:"Delete"}):Object(pe.jsx)(c.Fragment,{}))]});var n,r})),l.next?Object(pe.jsx)("button",{onClick:function(e){return a(l.next)},children:"Load more"}):Object(pe.jsx)("div",{})]})]}):Object(pe.jsx)("div",{children:Object(pe.jsx)("p",{children:"Blog with the given id does not exist"})})})})),Ie=Object(s.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{create_blog:function(e,t,n){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return function(){var r=Object(ie.a)(le.a.mark((function r(a){var s,o,u;return le.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},o=e.toLowerCase().replaceAll(" ","-"),u={title:e,subtitle:t,slug:o,body:n,publish_date:"2021-10-10T00:00:00",tag_names:c},r.prev=3,r.next=6,Le.a.post("".concat("http://localhost:8000/","api/blog/"),u,s);case 6:a({type:$}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(3),a({type:ee});case 12:case"end":return r.stop()}}),r,null,[[3,9]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,n=e.create_blog,r=Object(c.useState)({title:"",subtitle:"",body:""}),a=Object(_e.a)(r,2),s=a[0],o=a[1],u=s.title,l=s.subtitle,i=s.body,b=function(e){return o(Object(j.a)(Object(j.a)({},s),{},Object(ge.a)({},e.target.name,e.target.value)))};return t?Object(pe.jsxs)("div",{children:[Object(pe.jsx)("h1",{children:"Create blog"}),Object(pe.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log(u,l,i),n(u,l,i,[])}(e)},children:[Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Title"}),Object(pe.jsx)("input",{type:"text",id:"title",name:"title",value:u,onChange:function(e){return b(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Subtitle"}),Object(pe.jsx)("input",{type:"text",id:"subtitle",name:"subtitle",value:l,onChange:function(e){return b(e)},required:!0})]}),Object(pe.jsxs)("div",{children:[Object(pe.jsx)("label",{children:"Body"}),Object(pe.jsx)("textarea",{placeholder:"Body...",id:"body",name:"body",cols:"50",rows:"10",value:i,onChange:function(e){return b(e)},required:!0})]}),Object(pe.jsx)("button",{type:"subimt",children:"Post blog"})]})]}):Object(pe.jsx)(oe.a,{to:"/"})}));var Ue=function(){return Object(pe.jsx)(s.a,{store:ae,children:Object(pe.jsx)(se.a,{children:Object(pe.jsx)(he,{children:Object(pe.jsxs)(oe.d,{children:[Object(pe.jsx)(oe.b,{exact:!0,path:"/",component:xe}),Object(pe.jsx)(oe.b,{exact:!0,path:"/my_account",component:fe}),Object(pe.jsx)(oe.b,{exact:!0,path:"/feed",component:ve}),Object(pe.jsx)(oe.b,{exact:!0,path:"/discover",component:me}),Object(pe.jsx)(oe.b,{exact:!0,path:"/login",component:we}),Object(pe.jsx)(oe.b,{exact:!0,path:"/signup",component:Ee}),Object(pe.jsx)(oe.b,{exact:!0,path:"/activate/:uid/:token",component:Te}),Object(pe.jsx)(oe.b,{exact:!0,path:"/account/search",component:ke}),Object(pe.jsx)(oe.b,{exact:!0,path:"/account/:id",component:Fe}),Object(pe.jsx)(oe.b,{exact:!0,path:"/blog/create",component:Ie}),Object(pe.jsx)(oe.b,{exact:!0,path:"/blog/search",component:Ge}),Object(pe.jsx)(oe.b,{exact:!0,path:"/blog/:id",component:Ne})]})})})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};a.a.render(Object(pe.jsx)(s.a,{store:ae,children:Object(pe.jsx)(Ue,{})}),document.getElementById("root")),Re()}},[[72,1,2]]]);
//# sourceMappingURL=main.531a1244.chunk.js.map