(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{39:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(24),s=a.n(n),r=a(5),o=a(19),l=a(40),u=a(41),i=a(10),b=a(2),d="GET_SEARCH_ACCOUNTS_SUCCESS",j="GET_SEARCH_ACCOUNTS_FAIL",p="GET_SEARCH_ACCOUNTS_NEXT_SUCCESS",h="GET_SEARCH_ACCOUNTS_NEXT_FAIL",m="GET_ACCOUNT_SUCCESS",O="GET_ACCOUNT_FAIL",x="GET_ACCOUNT_BLOGS_SUCCESS",f="GET_ACCOUNT_BLOGS_FAIL",g="GET_ACCOUNT_BLOGS_NEXT_SUCCESS",v="GET_ACCOUNT_BLOGS_NEXT_FAIL",_="GET_ACCOUNT_FOLLOWERS_SUCCESS",y="GET_ACCOUNT_FOLLOWERS_FAIL",N="GET_ACCOUNT_FOLLOWERS_NEXT_SUCCESS",S="GET_ACCOUNT_FOLLOWERS_NEXT_FAIL",w={account:null,account_blogs:{count:null,next:null,prev:null,results:[]},account_followers:{count:null,next:null,prev:null,results:[]},search_accounts:{count:null,next:null,prev:null,results:[]},change:0,successes:[],errors:[]},C="LOGIN_SUCCESS",E="LOGIN_FAIL",T="SIGNUP_SUCCESS",k="SIGNUP_FAIL",A="ACTIVATE_SUCCESS",L="ACTIVATE_FAIL",F="LOGOUT",G="USER_LOAD_SUCCESS",U="USER_LOAD_FAIL",I="CHANGE_USER_DATA_SUCCESS",R="CHANGE_USER_DATA_FAIL",B="GET_USER_FOLLOWERS_SUCCESS",D="GET_USER_FOLLOWERS_FAIL",z="GET_USER_FOLLOWERS_NEXT_SUCCESS",M="GET_USER_FOLLOWERS_NEXT_FAIL",X="GET_USER_BLOGS_SUCCESS",P="GET_USER_BLOGS_FAIL",q="GET_USER_BLOGS_NEXT_SUCCESS",H="GET_USER_BLOGS_NEXT_FAIL",W={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:!1,user:null,followers:{count:null,next:null,prev:null,results:[]},blogs:{count:null,next:null,prev:null,results:[]},errors:[],successes:[]},J=function(e){var t=[];for(var a in e)t.push(e[a]);return t},K=function(){localStorage.removeItem("access"),localStorage.removeItem("refresh"),localStorage.removeItem("user")},V="GET_SEARCH_BLOGS_SUCCESS",Q="GET_SEARCH_BLOGS_FAIL",Y="GET_SEARCH_BLOGS_NEXT_SUCCESS",Z="GET_SEARCH_BLOGS_NEXT_FAIL",$="GET_BLOG_SUCCESS",ee="GET_BLOG_FAIL",te="GET_BLOG_COMMENTS_SUCCESS",ae="GET_BLOG_COMMENTS_FAIL",ce="GET_BLOG_COMMENTS_NEXT_SUCCESS",ne="GET_BLOG_COMMENTS_NEXT_FAIL",se="POST_COMMENT_SUCCESS",re="POST_COMMENT_FAIL",oe="DELETE_COMMENT_SUCCESS",le="DELETE_COMMENT_FAIL",ue="CREATE_BLOG_SUCCESS",ie="CREATE_BLOG_FAIL",be={blog:null,blog_comments:{count:null,next:null,prev:null,results:[]},search_blogs:{count:null,next:null,prev:null,results:[]},change:0,successes:[],errors:[]},de="GET_FEED_SUCCESS",je="GET_FEED_FAIL",pe="GET_FEED_NEXT_SUCCESS",he="GET_FEED_NEXT_FAIL",me={feed_blogs:{count:null,next:null,prev:null,results:[]}},Oe=Object(o.combineReducers)({account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case d:return Object(b.a)(Object(b.a)({},e),{},{search_accounts:{count:c.count,next:c.next,prev:c.prev,results:c.results},successes:["Loaded search results sucsessfully"],errors:[]});case j:case h:return Object(b.a)(Object(b.a)({},e),{},{search_accounts:{count:null,next:null,prev:null,results:[],errors:["Could not load in accounts"],successes:[]}});case p:return Object(b.a)(Object(b.a)({},e),{},{search_accounts:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.search_accounts.results),Object(i.a)(c.results))},successes:["Loaded search results sucsessfully for next page"],errors:[]});case m:return Object(b.a)(Object(b.a)({},e),{},{account:c,successes:[],errors:[]});case O:return Object(b.a)(Object(b.a)({},e),{},{account:null,successes:[],errors:["Failed to retrive the blog with the given ID."]});case x:return Object(b.a)(Object(b.a)({},e),{},{account_blogs:c,successes:["Retrieved blogs"],errors:[]});case f:case v:return Object(b.a)(Object(b.a)({},e),{},{account_blogs:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load blogs"]});case g:return Object(b.a)(Object(b.a)({},e),{},{account_blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.account_blogs.results),Object(i.a)(c.results))},successes:["Retrieved more blogs"],errors:[]});case _:return Object(b.a)(Object(b.a)({},e),{},{account_followers:c,successes:["Retrieved followers"],errors:[]});case y:case S:return Object(b.a)(Object(b.a)({},e),{},{account_followers:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load followers"]});case N:return Object(b.a)(Object(b.a)({},e),{},{account_followers:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.account_followers.results),Object(i.a)(c.results))},successes:["Retrieved more followers"],errors:[]});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case C:return localStorage.setItem("access",c.access),localStorage.setItem("refresh",c.refresh),Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,access:c.access,refresh:c.refresh,errors:[],successes:["Authenticated succesfully"]});case E:return K(),Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!1,access:"",refresh:"",errors:J(c),successes:[]});case T:return Object(b.a)(Object(b.a)({},e),{},{successes:["An activation email has been sent."]});case k:return Object(b.a)(Object(b.a)({},e),{},{successes:[],errors:J(c)});case A:return Object(b.a)(Object(b.a)({},e),{},{successes:["Account activated succesfully"]});case L:return Object(b.a)(Object(b.a)({},e),{},{errors:J(c),successes:[]});case F:return K(),Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!1,access:"",refresh:"",errors:[],successes:["Logged out succesfully"]});case G:return localStorage.setItem("user",c),Object(b.a)(Object(b.a)({},e),{},{user:c});case U:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!1,user:null,successes:[]});case I:return Object(b.a)(Object(b.a)({},e),{},{successes:["Changed user information"]});case R:return Object(b.a)(Object(b.a)({},e),{},{errors:["Could not change user data"]});case B:return Object(b.a)(Object(b.a)({},e),{},{followers:c});case D:case M:return Object(b.a)(Object(b.a)({},e),{},{followers:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load followers"]});case z:return Object(b.a)(Object(b.a)({},e),{},{followers:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.followers.results),Object(i.a)(c.results))}});case X:return Object(b.a)(Object(b.a)({},e),{},{blogs:c});case P:return Object(b.a)(Object(b.a)({},e),{},{blogs:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load blogs"]});case q:return Object(b.a)(Object(b.a)({},e),{},{blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.blogs.results),Object(i.a)(c.results))}});case H:return Object(b.a)(Object(b.a)({},e),{},{blogs:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load followers"]});case"ERROR":return Object(b.a)(Object(b.a)({},e),{},{errors:c});default:return e}},blog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case V:return Object(b.a)(Object(b.a)({},e),{},{search_blogs:{count:c.count,next:c.next,prev:c.prev,results:c.results},successes:["Loaded search results sucsessfully"],errors:[]});case Q:case Z:return Object(b.a)(Object(b.a)({},e),{},{search_blogs:{count:null,next:null,prev:null,results:[],errors:["Could not load in blogs"],successes:[]}});case Y:return Object(b.a)(Object(b.a)({},e),{},{search_blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.search_blogs.results),Object(i.a)(c.results))},successes:["Loaded search results sucsessfully for next page"],errors:[]});case $:return Object(b.a)(Object(b.a)({},e),{},{blog:c,successes:[],errors:[]});case ee:return Object(b.a)(Object(b.a)({},e),{},{blog:null,successes:[],errors:["Failed to retrive the blog with the given ID."]});case te:return Object(b.a)(Object(b.a)({},e),{},{blog_comments:c,successes:["Retrieved comments"],errors:[]});case ae:case ne:return Object(b.a)(Object(b.a)({},e),{},{blog_comments:{count:null,next:null,prev:null,results:[]},successes:[],errors:["Failed to load comments"]});case ce:return Object(b.a)(Object(b.a)({},e),{},{blog_comments:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.blog_comments.results),Object(i.a)(c.results))},successes:["Retrieved more comments"],errors:[]});case se:case oe:return Object(b.a)(Object(b.a)({},e),{},{change:e.change+1});case le:case re:case ue:return Object(b.a)(Object(b.a)({},e),{},{successes:["Blog created"],errors:[]});case ie:return Object(b.a)(Object(b.a)({},e),{},{successes:[],errors:["Blog with his title allready exists"]});default:return e}},feed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case de:return Object(b.a)(Object(b.a)({},e),{},{feed_blogs:{count:c.count,next:c.next,prev:c.prev,results:c.results},successes:["Loaded feed blogs sucsessfully"],errors:[]});case je:return Object(b.a)(Object(b.a)({},e),{},{feed_blogs:{count:null,next:null,prev:null,results:[],errors:["Could not load in feed blogs"],successes:[]}});case pe:return Object(b.a)(Object(b.a)({},e),{},{feed_blogs:{count:c.count,next:c.next,prev:c.prev,results:[].concat(Object(i.a)(e.feed_blogs.results),Object(i.a)(c.results))},successes:["Loaded search results sucsessfully for next page"],errors:[]});case he:return Object(b.a)(Object(b.a)({},e),{},{feed_blogs:{count:null,next:null,prev:null,results:[],errors:["Could not load in blogs"],successes:[]}});default:return e}}}),xe=[u.a],fe=Object(o.createStore)(Oe,{},Object(l.composeWithDevTools)(o.applyMiddleware.apply(void 0,xe))),ge=a(4),ve=a(9),_e=a(3),ye=a.n(_e),Ne=a(6),Se=a(8).default,we=function(){return function(){var e=Object(Ne.a)(ye.a.mark((function e(t){var a,c,n;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=20;break}return a={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}},e.prev=2,e.next=5,Se.get("".concat("https://ahamza-blogger.herokuapp.com/","auth/users/me/"),a);case 5:return c=e.sent,n=c.data.id,e.next=9,Se.get("".concat("https://ahamza-blogger.herokuapp.com/","api/account/").concat(n,"/"),a);case 9:c=e.sent,t({type:G,payload:c.data}),t(Ce(c.data.followers_url)),t(Ee(c.data.email)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),t({type:U,payload:e.t0.response});case 18:e.next=21;break;case 20:t({type:U});case 21:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()},Ce=function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Se.get(e,c);case 4:n=t.sent,a({type:B,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:D,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Se.get("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/?search=").concat(e),c);case 4:n=t.sent,a({type:X,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:P,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},Te=a(0),ke=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{logout:function(){return function(){var e=Object(Ne.a)(ye.a.mark((function e(t){return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:F,payload:null});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.logout,a=e.isAuthenticated,n=e.user;return Object(Te.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(Te.jsxs)("div",{className:"container-fluid",children:[Object(Te.jsx)(ge.b,{className:"navbar-brand",to:"/",children:"Blogger"}),Object(Te.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(Te.jsx)("span",{className:"navbar-toggler-icon"})}),Object(Te.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(Te.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[a?Object(Te.jsx)(c.Fragment,{children:Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/",className:"nav-link",id:"home",children:[Object(Te.jsx)("i",{class:"bi bi-house-door-fill"})," Home"]})})}):Object(Te.jsx)(c.Fragment,{}),Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/discover",id:"dicover",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-compass-fill"})," Discover"]})}),a?Object(Te.jsx)(c.Fragment,{}):Object(Te.jsxs)(c.Fragment,{children:[Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/login",id:"login",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-box-arrow-in-right"})," Login"]})}),Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/signup",id:"sign-up",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-person-plus-fill"})," Sign up"]})})]}),a?Object(Te.jsx)(c.Fragment,{children:Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/my_account",id:"my-account",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-person-fill"})," My account"]})})}):Object(Te.jsx)(c.Fragment,{}),Object(Te.jsxs)("li",{className:"nav-item dropdown",children:[Object(Te.jsxs)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(Te.jsx)("i",{class:"bi bi-search"})," Search"]}),Object(Te.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(Te.jsx)("li",{children:Object(Te.jsxs)(ge.b,{className:"dropdown-item",to:"/account/search",children:[Object(Te.jsx)("i",{class:"bi bi-person-lines-fill"})," Account"]})}),Object(Te.jsx)("li",{children:Object(Te.jsxs)(ge.b,{className:"dropdown-item",to:"/blog/search",children:[Object(Te.jsx)("i",{class:"bi bi-card-text"})," Blog"]})})]})]}),a?Object(Te.jsxs)(c.Fragment,{children:[Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{to:"/blog/create",id:"create-blog",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-plus-square-fill"})," Create blog"]})}),Object(Te.jsx)("li",{className:"nav-item",children:Object(Te.jsxs)(ge.b,{onClick:t,id:"logout",className:"nav-link",children:[Object(Te.jsx)("i",{class:"bi bi-box-arrow-left"})," Logout"]})})]}):Object(Te.jsx)(c.Fragment,{})]}),Object(Te.jsx)("div",{class:"d-flex",children:a&&n?Object(Te.jsx)(c.Fragment,{children:Object(Te.jsx)("div",{className:"row",children:Object(Te.jsxs)("div",{className:"col-md-12",children:["Welcome, ",Object(Te.jsx)(ge.b,{to:"/my_account",className:"text-decoration-none",children:Object(Te.jsxs)("b",{children:[n.name," ",n.last_name]})})]})})}):Object(Te.jsx)(c.Fragment,{})})]})]})})})),Ae=function(e){return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(ke,{}),Object(Te.jsx)("div",{className:"row justify-content-center mt-4 p-2",children:Object(Te.jsx)("div",{className:"col-md-10 layout",children:e.children})})]})},Le=function(e){var t=e.blog;return Object(Te.jsx)("li",{children:Object(Te.jsx)(ge.b,{to:"/blog/".concat(t.id),className:"card mb-3",style:{textDecoration:"none"},children:Object(Te.jsxs)("div",{className:"card-body",children:[Object(Te.jsxs)("div",{className:"row",children:[Object(Te.jsx)("h5",{className:"col-md-6 card-title",children:t.title}),Object(Te.jsxs)("h6",{className:"col-md-6 text-secondary text-end",children:["Author:",Object(Te.jsxs)(ge.b,{className:"text-primary ms-3",to:"/account/".concat(t.author_id),style:{textDecoration:"none"},children:[t.author_name," ",t.author_last_name]})]})]}),Object(Te.jsx)("h6",{class:"card-subtitle mb-2 text-muted",children:t.subtitle})]})})})},Fe=function(e){var t=e.blogs,a=e.next_list;return Object(Te.jsxs)("ul",{children:[t.results.map((function(e){return Object(Te.jsx)(Le,{blog:e})})),t.next?Object(Te.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(e){return a(t.next)},children:"Load more"}):Object(Te.jsx)("div",{})]})},Ge=a(8),Ue=a.n(Ge),Ie=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,blogs:e.feed.feed_blogs}}),{get_feed:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"applicatio/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/account/").concat(e,"/follow/?ordering=-date_created"),c);case 4:n=t.sent,a({type:de,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:je,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_feed_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"applicatio/json"}},t.prev=1,t.next=4,Ue.a.get(e,c);case 4:n=t.sent,a({type:pe,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:he,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.user,n=e.blogs,s=e.get_feed,r=e.get_feed_next;return Object(c.useEffect)((function(){a&&s(a.id)}),[t,a]),t?Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{children:"Home"}),Object(Te.jsx)(Fe,{blogs:n,next_list:r})]}):Object(Te.jsx)(ve.a,{to:"/discover"})})),Re=a(42),Be=Object(r.b)((function(e){return{}}),{})((function(e){return Object(Re.a)(e),Object(Te.jsx)("div",{children:Object(Te.jsx)("h1",{children:"Discover"})})})),De=a(17),ze=a(11),Me=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(){var a=Object(Ne.a)(ye.a.mark((function a(c){var n,s,r;return ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},s=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,Se.post("".concat("https://ahamza-blogger.herokuapp.com/","auth/jwt/create/"),s,n);case 5:r=a.sent,c({type:C,payload:r.data}),c(we()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),c({type:E,payload:a.t0.response});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.login,a=e.isAuthenticated,n=Object(c.useState)({email:"",password:""}),s=Object(ze.a)(n,2),r=s[0],o=s[1];if(a)return Object(Te.jsx)(ve.a,{to:"/"});var l=r.email,u=r.password,i=function(e){return o(Object(b.a)(Object(b.a)({},r),{},Object(De.a)({},e.target.name,e.target.value)))};return Object(Te.jsx)("div",{children:Object(Te.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(l,u)}(e)},children:[Object(Te.jsx)("h1",{children:"Login"}),Object(Te.jsx)("p",{children:"Login to you're account"}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"emailinput",className:"form-label",children:"Email address"}),Object(Te.jsx)("input",{type:"email",className:"form-control",id:"email-input",placeholder:"name@example.com",name:"email",value:l,onChange:function(e){return i(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"password-input",className:"form-label",children:"Password"}),Object(Te.jsx)("input",{type:"text",className:"form-control",id:"password-input",placeholder:"password",name:"password",value:u,onChange:function(e){return i(e)},required:!0})]}),Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-2",children:"Login"}),Object(Te.jsxs)("p",{children:["Don't have an account? ",Object(Te.jsx)(ge.b,{to:"/signup",children:"Sign up"})]})]})})})),Xe=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:function(e,t,a,c,n){return function(){var s=Object(Ne.a)(ye.a.mark((function s(r){var o,l,u;return ye.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(c===n){s.next=4;break}r({type:"ERROR",payload:["Password's to not match"]}),s.next=16;break;case 4:return o={headers:{"Content-Type":"application/json"}},l=JSON.stringify({email:e,name:t,last_name:a,password:c,re_password:n}),s.prev=6,s.next=9,Se.post("".concat("https://ahamza-blogger.herokuapp.com/","auth/users/"),l,o);case 9:u=s.sent,r({type:T,payload:u.data}),s.next=16;break;case 13:s.prev=13,s.t0=s.catch(6),r({type:k,payload:s.t0.response.data});case 16:case"end":return s.stop()}}),s,null,[[6,13]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.isAuthenticated,n=Object(c.useState)({email:"",name:"",last_name:"",password:"",re_password:""}),s=Object(ze.a)(n,2),r=s[0],o=s[1];if(a)return Object(Te.jsx)(ve.a,{to:"/"});var l=r.email,u=r.name,i=r.last_name,d=r.password,j=r.re_password,p=function(e){return o(Object(b.a)(Object(b.a)({},r),{},Object(De.a)({},e.target.name,e.target.value)))};return Object(Te.jsx)("div",{children:Object(Te.jsxs)("form",{className:"",onSubmit:function(e){return function(e){e.preventDefault(),t(l,u,i,d,j)}(e)},children:[Object(Te.jsx)("h1",{children:"Signup"}),Object(Te.jsx)("p",{children:"Login to you're account"}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"email",class:"form-label",children:"Email address"}),Object(Te.jsx)("input",{className:"form-control",type:"email",placeholder:"example@gmail.com",id:"email",name:"email",value:l,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"name",class:"form-label",children:"Name"}),Object(Te.jsx)("input",{className:"form-control",type:"text",placeholder:"John",id:"name",name:"name",value:u,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"last_name",class:"form-label",children:"Last name"}),Object(Te.jsx)("input",{className:"form-control",type:"text",placeholder:"Doe",id:"last_name",name:"last_name",value:i,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"password",class:"form-label",children:"Password"}),Object(Te.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",id:"password",name:"password",value:d,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"re_password",class:"form-label",children:"Repeat password"}),Object(Te.jsx)("input",{className:"form-control",type:"password",placeholder:"Password",id:"re_password",name:"re_password",value:j,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-2",children:"Sign up"}),Object(Te.jsxs)("p",{children:["Have an account? ",Object(Te.jsx)(ge.b,{to:"/login",children:"Log in"})]})]})})})),Pe=function(e){var t=e.successes;return Object(Te.jsx)("ul",{className:"p-0",children:t.map((function(e){return Object(Te.jsx)("li",{className:"list-group-item list-group-item-success mb-1 my-0",children:e})}))})},qe=function(e){var t=e.errors;return Object(Te.jsx)("ul",{className:"p-0",children:t.map((function(e){return Object(Te.jsx)("li",{className:"list-group-item list-group-item-danger mb-1 my-0",children:e})}))})},He=function(e){var t=e.successes,a=e.errors;return Object(Te.jsxs)("div",{children:[Object(Te.jsx)(Pe,{successes:t}),Object(Te.jsx)(qe,{errors:a})]})},We=Object(r.b)(null,{activate:function(e,t){return function(){var a=Object(Ne.a)(ye.a.mark((function a(c){var n,s;return ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{"Content-Type":"application/json"}},s=JSON.stringify({uid:e,token:t}),a.prev=2,a.next=5,Se.post("".concat("https://ahamza-blogger.herokuapp.com/","auth/users/activation/"),s,n);case 5:c({type:A,payload:null}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),c({type:L,payload:a.t0.response.data});case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.activate,a=e.match;return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{class:"",children:"Activate you're account"}),Object(Te.jsx)("button",{onClick:function(e){var c=a.params.uid,n=a.params.token;t(c,n)},class:"btn btn-primary btn-block",children:"Activate"}),Object(Te.jsx)(He,{}),Object(Te.jsx)(ge.b,{to:"/",children:" Go back to home page "})]})})),Je=function(e){var t=e.account;return Object(Te.jsx)("li",{children:Object(Te.jsx)(ge.b,{to:"/account/".concat(t.id),className:"card mb-3",style:{textDecoration:"none"},children:Object(Te.jsxs)("div",{className:"card-body",children:[Object(Te.jsxs)("h5",{className:"card-title",children:[t.name," ",t.last_name]}),Object(Te.jsxs)("h6",{class:"card-subtitle mb-2 text-muted",children:["Follower count: ",t.follower_count]})]})})})},Ke=function(e){var t=e.accounts,a=e.next_list;return Object(Te.jsxs)("ul",{className:"mt-3",children:[t.results.map((function(e){return Object(Te.jsx)(Je,{account:e})})),t.next?Object(Te.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(e){return a(t.next)},children:"Load more"}):Object(Te.jsx)("div",{})]})},Ve=(a(39),Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user,followers:e.auth.followers,blogs:e.auth.blogs}}),{change_user_data:function(e,t,a,c){return function(){var n=Object(Ne.a)(ye.a.mark((function n(s){var r,o;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.getItem("access")){n.next=15;break}return r={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access"))}},o={name:t,last_name:a,email:c},n.prev=3,n.next=6,Se.put("".concat("https://ahamza-blogger.herokuapp.com/","api/account/").concat(e,"/"),o,r);case 6:s({type:I}),s(we()),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),s({type:R,payload:n.t0.response.data});case 13:n.next=16;break;case 15:s({type:R});case 16:case"end":return n.stop()}}),n,null,[[3,10]])})));return function(e){return n.apply(this,arguments)}}()},get_user_followers_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},console.log(e),t.prev=2,t.next=5,Se.get(e,c);case 5:n=t.sent,a({type:z,payload:n.data}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),a({type:M,payload:t.t0.response});case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}()},get_user_blogs_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Se.get("".concat(e),c);case 4:n=t.sent,a({type:q,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:H,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_user_blogs:Ee,get_user_followers:Ce})((function(e){var t=e.user,a=e.isAuthenticated,n=e.followers,s=e.blogs,r=e.change_user_data,o=e.get_user_followers_next,l=e.get_user_blogs_next,u=Object(c.useState)({name:"",last_name:""}),i=Object(ze.a)(u,2),d=i[0],j=i[1],p=Object(c.useState)(!1),h=Object(ze.a)(p,2),m=h[0],O=h[1],x=Object(c.useState)(!1),f=Object(ze.a)(x,2),g=f[0],v=f[1],_=Object(c.useState)(!1),y=Object(ze.a)(_,2),N=y[0],S=y[1];Object(c.useEffect)((function(){t&&j({name:t.name,last_name:t.last_name})}),[]),Object(c.useEffect)((function(){t&&N&&(S(!1),t.name===w&&t.last_name===C?(O(!0),v(!1)):(v(!0),O(!1)))}),[t]);var w=d.name,C=d.last_name,E=function(e){return j(Object(b.a)(Object(b.a)({},d),{},Object(De.a)({},e.target.name,e.target.value)))};return a?Object(Te.jsxs)("div",{children:[Object(Te.jsxs)("div",{className:"grid",children:[Object(Te.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),r(t.id,w,C,t.email),S(!0)}(e)},className:"card mb-4 info-form p-2",children:[Object(Te.jsx)("h3",{children:"Account details"}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"nameInput",className:"form-label",children:"Name"}),Object(Te.jsx)("input",{type:"text",className:"form-control",id:"nameInput",name:"name",value:w,onChange:function(e){return E(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"lastNameInput",className:"form-label",children:"Last name"}),Object(Te.jsx)("input",{type:"text",className:"form-control",id:"lastNameInput",name:"last_name",value:C,onChange:function(e){return E(e)},required:!0})]}),Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary mb-3",children:"Update"}),Object(Te.jsx)(He,{successes:m?["Updated information"]:[],errors:g?["Failed to update information"]:[]}),Object(Te.jsxs)("ul",{className:"list-group list-group-flush fw-bolder",children:[Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Date joined: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:t.date_joined})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Blog count: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:t.blog_count})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Follower count: ",Object(Te.jsxs)("p",{className:"flex-fill text-end",children:[t.follower_count," "]})]})]})]}),Object(Te.jsx)("div",{className:"card follower-scroll",children:Object(Te.jsx)(Ke,{accounts:n,next_list:o})})]}),Object(Te.jsx)("h2",{className:"mt-3 mb-4",children:"Blogs"}),Object(Te.jsx)(Fe,{blogs:s,next_list:l})]}):Object(Te.jsx)(ve.a,{to:"/"})}))),Qe=Object(r.b)((function(e){return{accounts:e.account.search_accounts}}),{search_accounts:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/account/?search=").concat(e),c);case 4:n=t.sent,a({type:d,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:j,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},search_accounts_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:p,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:h,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.accounts,a=e.search_accounts_next,n=e.search_accounts,s=Object(c.useState)(""),r=Object(ze.a)(s,2),o=r[0],l=r[1];return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{className:"mb-3",children:"Account search"}),Object(Te.jsxs)("form",{className:"row g-3",onSubmit:function(e){e.preventDefault(),n(o)},children:[Object(Te.jsxs)("div",{className:"col-md-11",children:[Object(Te.jsx)("label",{for:"keyword",className:"visually-hidden",children:"Keyword"}),Object(Te.jsx)("input",{type:"text",className:"form-control",id:"keyword",placeholder:"Password",onChange:function(e){return function(e){return l(e.target.value)}(e)}})]}),Object(Te.jsx)("div",{className:"col-md-1",children:Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-3",children:"Search"})})]}),Object(Te.jsx)(Ke,{accounts:t,next_list:a})]})})),Ye=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,account:e.account.account,blogs:e.account.account_blogs,followers:e.account.account_followers,user:e.auth.user}}),{get_account:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/account/").concat(e,"/"),c);case 4:n=t.sent,a({type:m,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:O,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_blogs:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/?search=").concat(e),c);case 4:n=t.sent,a({type:x,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:f,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_blogs_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:g,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:v,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_followers:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/account/").concat(e,"/followers/"),c);case 4:n=t.sent,a({type:_,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:y,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_account_followers_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:N,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:S,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.isAuthenticated,n=e.account,s=e.blogs,r=e.user,o=e.followers,l=e.get_account,u=e.get_account_blogs,i=e.get_account_blogs_next,b=e.get_account_followers,d=e.get_account_followers_next,j=Object(c.useState)(!1),p=Object(ze.a)(j,2),h=(p[0],p[1]);Object(c.useEffect)((function(){l(t.params.id)}),[t.params.id]),Object(c.useEffect)((function(){n&&(m(),u(n.email),b(n.id))}),[n]);var m=function(){a&&Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/account/").concat(n.id,"/followers/?search=").concat(r.email)).then((function(e){0!==e.data.count?h(!0):h(!1)})).catch((function(e){h(!1)}))};return Object(Te.jsx)("div",{children:n?Object(Te.jsxs)(c.Fragment,{children:[Object(Te.jsxs)("div",{className:"grid",children:[Object(Te.jsxs)("form",{className:"card mb-4 info-form p-2",children:[Object(Te.jsx)("h3",{children:"Account details"}),Object(Te.jsxs)("ul",{className:"list-group list-group-flush fw-bolder",children:[Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Name: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:n.name})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Last name: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:n.last_name})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Date joined: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:n.date_joined})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Blog count: ",Object(Te.jsx)("p",{className:"flex-fill text-end",children:n.blog_count})]}),Object(Te.jsxs)("li",{className:"list-group-item d-flex p-auto",children:["Follower count: ",Object(Te.jsxs)("p",{className:"flex-fill text-end",children:[n.follower_count," "]})]})]})]}),Object(Te.jsx)("div",{className:"card follower-scroll",children:Object(Te.jsx)(Ke,{accounts:o,next_list:d})})]}),Object(Te.jsx)("h2",{className:"mt-3 mb-4",children:"Blogs"}),Object(Te.jsx)(Fe,{blogs:s,next_list:i})]}):Object(Te.jsx)("div",{children:Object(Te.jsx)("p",{children:"User with the given Id does not exist"})})})})),Ze=Object(r.b)((function(e){return{blogs:e.blog.search_blogs}}),{search_blogs:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/?search=").concat(e),c);case 4:n=t.sent,a({type:V,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:Q,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},search_blogs_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:Y,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:Z,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.search_blogs,a=e.search_blogs_next,n=e.blogs,s=Object(c.useState)(""),r=Object(ze.a)(s,2),o=r[0],l=r[1];return Object(Te.jsxs)("div",{children:[Object(Te.jsx)("h1",{className:"mb-3",children:"Blog search"}),Object(Te.jsxs)("form",{className:"row g-3",onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(Te.jsxs)("div",{className:"col-md-11",children:[Object(Te.jsx)("label",{for:"keyword",className:"visually-hidden",children:"Keyword"}),Object(Te.jsx)("input",{type:"text",className:"form-control",id:"keyword",placeholder:"Password",onChange:function(e){return function(e){return l(e.target.value)}(e)}})]}),Object(Te.jsx)("div",{className:"col-md-1",children:Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-3",children:"Search"})})]}),Object(Te.jsx)(Fe,{blogs:n,next_list:a})]})})),$e=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,user:e.auth.user}}),{delete_comment:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.delete("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/comment/").concat(e,"/"),c);case 4:n=t.sent,a({type:oe,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:le,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t,a,n=e.comment,s=e.user,r=e.delete_comment,o=e.isAuthenticated;return Object(Te.jsxs)("li",{className:"card mb-3",children:[Object(Te.jsx)("div",{className:"card-body",children:Object(Te.jsxs)("div",{className:"row",children:[Object(Te.jsx)("div",{className:"col-md-11",children:Object(Te.jsx)("p",{className:"card-text",children:n.body})}),Object(Te.jsx)("div",{className:"col-md-1",children:(t=n.author_id,a=n.id,o&&s.id===t?Object(Te.jsx)("button",{className:"btn btn-danger",onClick:function(){r("".concat(a))},children:"Delete"}):Object(Te.jsx)(c.Fragment,{}))})]})}),Object(Te.jsx)("hr",{style:{margin:0}}),Object(Te.jsx)("div",{className:"card-body",children:Object(Te.jsxs)(ge.b,{to:"/account/".concat(n.author_id),className:"card-link",children:[n.author_name," ",n.author_last_name]})})]})})),et=Object(r.b)(null,{get_blog_comments_next:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:ce,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:ne,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.comments,a=e.get_blog_comments_next;return Object(Te.jsxs)("div",{className:"mt-3",children:[Object(Te.jsx)("h3",{children:"Comments"}),Object(Te.jsxs)("ul",{className:"mt-1",children:[t.results.map((function(e,t){return Object(Te.jsx)($e,{comment:e})})),t.next?Object(Te.jsx)("button",{className:"btn btn-primary btn-block",onClick:function(e){return a(t.next)},children:"Load more"}):Object(Te.jsx)("div",{})]})]})})),tt=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,blog:e.blog.blog,comments:e.blog.blog_comments,change:e.blog.change}}),{get_blog:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/").concat(e,"/"),c);case 4:n=t.sent,a({type:$,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:ee,payload:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},get_blog_comments:function(e){return function(){var t=Object(Ne.a)(ye.a.mark((function t(a){var c,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c={headers:{"Content-Type":"application/json"}},t.prev=1,t.next=4,Ue.a.get("".concat(e),c);case 4:n=t.sent,a({type:te,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:ae,payload:t.t0.response});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},post_comment:function(e,t){return function(){var a=Object(Ne.a)(ye.a.mark((function a(c){var n,s,r;return ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={headers:{Authorization:"Bearer ".concat(localStorage.getItem("access")),"Content-Type":"application/json"}},s={body:t},a.prev=2,a.next=5,Ue.a.post("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/").concat(e,"/comments/"),s,n);case 5:r=a.sent,c({type:se,payload:r.data}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(2),c({type:re,payload:a.t0.response});case 12:case"end":return a.stop()}}),a,null,[[2,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.get_blog,n=e.get_blog_comments,s=e.post_comment,r=e.blog,o=e.comments,l=e.isAuthenticated,u=e.change,i=t.params.id,b=Object(c.useState)(""),d=Object(ze.a)(b,2),j=d[0],p=d[1];Object(c.useEffect)((function(){a(i)}),[]),Object(c.useEffect)((function(){null!=r&&n(r.comments_url)}),[r,u]);return Object(Te.jsx)("div",{children:r?Object(Te.jsxs)("div",{children:[Object(Te.jsxs)("div",{children:[Object(Te.jsx)("div",{className:"row",children:Object(Te.jsxs)("div",{className:"col",children:[Object(Te.jsxs)("span",{children:["Published on ",r.date_created,", by"]}),Object(Te.jsxs)(ge.b,{to:"/account/".concat(r.author_id),className:"ms-2",children:[r.author_name," ",r.author_last_name]})]})}),Object(Te.jsx)("h2",{children:r.title}),Object(Te.jsx)("h5",{children:r.subtitle}),Object(Te.jsx)("p",{style:{"word-wrap":"break-word"},children:r.body})]}),l?Object(Te.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),s(r.id,j)}(e)},children:[Object(Te.jsx)("h4",{children:"Write a comment"}),Object(Te.jsx)("div",{className:"mb-3",children:Object(Te.jsx)("textarea",{className:"form-control",placeholder:"Comment...",id:"comment",name:"comment",rows:"3",value:j,onChange:function(e){return function(e){return p(e.target.value)}(e)},required:!0})}),Object(Te.jsx)("button",{type:"submit",className:"btn btn-primary btn-block mb-2",children:"Comment"})]}):Object(Te.jsx)(ge.b,{to:"/login",children:"Login to post a comment"}),Object(Te.jsx)(et,{comments:o})]}):Object(Te.jsx)("div",{children:Object(Te.jsx)("p",{children:"Blog with the given id does not exist"})})})})),at=Object(r.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,succ:e.blog.successes,err:e.blog.errors}}),{create_blog:function(e,t,a){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"2021-10-10T00:00:00",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return function(){var s=Object(Ne.a)(ye.a.mark((function s(r){var o,l,u;return ye.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access"))}},l=e.toLowerCase().replaceAll(" ","-"),u={title:e,subtitle:t,slug:l,body:a,publish_date:c,tag_names:n},s.prev=3,s.next=6,Ue.a.post("".concat("https://ahamza-blogger.herokuapp.com/","api/blog/"),u,o);case 6:r({type:ue}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(3),r({type:ie});case 12:case"end":return s.stop()}}),s,null,[[3,9]])})));return function(e){return s.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.succ,n=e.err,s=e.create_blog,r=Object(c.useState)({title:"",subtitle:"",body:""}),o=Object(ze.a)(r,2),l=o[0],u=o[1],i=l.title,d=l.subtitle,j=l.body,p=function(e){return u(Object(b.a)(Object(b.a)({},l),{},Object(De.a)({},e.target.name,e.target.value)))};return t?Object(Te.jsxs)("div",{children:[Object(Te.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault(),s(i,d,j)}(e)},className:"mb-4",children:[Object(Te.jsx)("h1",{children:"Create blog"}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"title",className:"form-label",children:"Title"}),Object(Te.jsx)("input",{className:"form-control",type:"text",id:"title",name:"title",placeholder:"Title",value:i,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"subtitle",className:"form-label",children:"Subtitle"}),Object(Te.jsx)("input",{className:"form-control",type:"text",id:"subtitle",name:"subtitle",placeholder:"Subtitle",value:d,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsxs)("div",{className:"mb-3",children:[Object(Te.jsx)("label",{for:"body",className:"form-label",children:"Body"}),Object(Te.jsx)("textarea",{className:"form-control",placeholder:"Body...",id:"body",name:"body",cols:"50",rows:"10",value:j,onChange:function(e){return p(e)},required:!0})]}),Object(Te.jsx)("button",{type:"subimt",className:"btn btn-primary btn-block",children:"Post blog"})]}),Object(Te.jsx)(He,{successes:a,errors:n})]}):Object(Te.jsx)(ve.a,{to:"/"})}));var ct=function(){return Object(Te.jsx)(r.a,{store:fe,children:Object(Te.jsx)(ge.a,{children:Object(Te.jsx)(Ae,{children:Object(Te.jsxs)(ve.d,{children:[Object(Te.jsx)(ve.b,{exact:!0,path:"/",component:Ie}),Object(Te.jsx)(ve.b,{exact:!0,path:"/discover",component:Be}),Object(Te.jsx)(ve.b,{exact:!0,path:"/login",component:Me}),Object(Te.jsx)(ve.b,{exact:!0,path:"/signup",component:Xe}),Object(Te.jsx)(ve.b,{exact:!0,path:"/activate/:uid/:token",component:We}),Object(Te.jsx)(ve.b,{exact:!0,path:"/my_account",component:Ve}),Object(Te.jsx)(ve.b,{exact:!0,path:"/account/search",component:Qe}),Object(Te.jsx)(ve.b,{exact:!0,path:"/account/:id",component:Ye}),Object(Te.jsx)(ve.b,{exact:!0,path:"/blog/create",component:at}),Object(Te.jsx)(ve.b,{exact:!0,path:"/blog/search",component:Ze}),Object(Te.jsx)(ve.b,{exact:!0,path:"/blog/:id",component:tt})]})})})})},nt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,73)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};s.a.render(Object(Te.jsx)(r.a,{store:fe,children:Object(Te.jsx)(ct,{})}),document.getElementById("root")),nt()}},[[72,1,2]]]);
//# sourceMappingURL=main.d7b1c743.chunk.js.map